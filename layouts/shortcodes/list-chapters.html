{{ $bookDir := .Page.File.Dir }}
{{ $chapters := slice }}

{{ range .Site.RegularPages }}
  {{ if and (hasPrefix .File.Dir $bookDir) (ne .File.Dir $bookDir) }}
    {{ $chapters = $chapters | append . }}
  {{ end }}
{{ end }}

{{ $chapters = where $chapters "File.TranslationBaseName" "eq" "index" }}
{{ if gt (len $chapters) 0 }}
<h2>Chapters</h2>
<ul>
  {{ range $chapters }}
    <li>
      <a href="{{ .Permalink }}">{{ .Title }}</a>
    </li>
  {{ end }}
</ul>
{{ end }}